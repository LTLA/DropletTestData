---
title: Loading the 10X PBMC 4k dataset
author: Aaron Lun
output: BiocStyle::html_document
---

```{r, echo=FALSE}
knitr::opts_chunk$set(error=FALSE, message=FALSE, warning=FALSE)
library(BiocStyle)
```

# Introduction

Original data source at https://support.10xgenomics.com/single-cell-gene-expression/datasets/2.1.0/pbmc4k.

```{r loading}
base.url <- "http://cf.10xgenomics.com/samples/cell-exp/2.1.0/pbmc4k"
```

# Listing the files 

```{r}
files <- c(
    "pbmc4k_raw_gene_bc_matrices.tar.gz",
    "pbmc4k_filtered_gene_bc_matrices.tar.gz",
    "pbmc4k_raw_gene_bc_matrices_h5.h5",
    "pbmc4k_molecule_info.h5"
)
```

# Downloading 

```{r}
target <- "DropletTestFiles/tenx-2.1.0-pbmc4k/1.0.0"
dir.create(target, recursive=TRUE)
for (f in files) {
    download.file(file.path(base.url, f), file.path(target, f))
}
```

# Session information {-}

```{r}
sessionInfo()
```
